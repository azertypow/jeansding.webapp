import{d as p,A as h,s as m,_ as v,r as l,o as t,c as r,a as n,F as o,b as s,e as u,t as c,f as j,w as A,n as S,g as b,h as f}from"./index.271d7c23.js";const k=p({components:{ArticleContainer:h},data(){return{globalState:m(),video:""}},mounted(){this.$nextTick(()=>{this.setVideo()})},methods:{async setVideo(){if(!this.currentArticle)return null;const e="https://vimeo.com/api/oembed.json?autopip=1&title=0&byline=0&portrait=0&responsive=1&color=025BFA&url="+encodeURI(this.currentArticle.vimeoLink);this.video=(await(await window.fetch(e)).json()).html}},computed:{apiProjects(){return this.globalState.apiProjects},currentArticle(){var e;return(e=this.apiProjects[this.projectSection])==null?void 0:e.children["mediapage/"+this.projectSection+"/"+this.articleUid]},projectSection(){return this.$route.params.projectSection},articleUid(){return this.$route.params.articleUid},currentSectionUID(){return this.$route.params.projectSection}}});const g={class:"v-article"},L={class:"v-article__header"},T=["innerHTML"],U=["innerHTML"],$=["innerHTML"],y={class:"v-article__item"},w={class:"v-article__item__grid"};function C(e,H,M,V,B,P){const d=l("router-link"),_=l("article-container");return t(),r("div",g,[n("header",L,[(t(!0),r(o,null,s(e.apiProjects,(i,a)=>(t(),j(d,{class:S([{"is-active":a===e.currentSectionUID},"jd-button"]),to:"/projects/"+a},{default:A(()=>[f(c(i.title),1)]),_:2},1032,["class","to"]))),256))]),e.currentArticle?(t(),r(o,{key:0},[e.currentArticle.vimeoLink?(t(),r("div",{key:0,class:"v-article__vimeo-box",innerHTML:e.video},null,8,T)):u("",!0),n("h1",null,c(e.currentArticle.title),1),n("h2",null,c(e.currentArticle.author),1),n("div",{innerHTML:e.currentArticle.description},null,8,U),(t(!0),r(o,null,s(e.currentArticle.article_content,i=>(t(),r("div",{class:"v-article__blocks",innerHTML:i},null,8,$))),256))],64)):u("",!0),n("section",y,[(t(!0),r(o,null,s(e.globalState.apiProjects[e.currentSectionUID].children,i=>(t(),r("div",w,[b(_,{style:{"border-bottom":"none"},"article-data":i},null,8,["article-data"])]))),256))])])}const I=v(k,[["render",C]]);export{I as default};
